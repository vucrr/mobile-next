{"ast":null,"code":"import _Toast from \"antd-mobile/lib/toast\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _Flex from \"antd-mobile/lib/flex\";\nimport { Button, Icon, Link, Switch } from 'components';\nimport React, { useState } from 'react';\nimport styles from \"./InfoList.less\";\nimport ReactDOM from 'react-dom';\nimport Lottie from 'react-lottie';\nvar Item = _Flex.Item;\nvar StepCode;\n\n(function (StepCode) {\n  StepCode[\"ZhimaCredit\"] = \"zhima_credit\";\n  StepCode[\"GpsLocation\"] = \"gps_location\";\n  StepCode[\"EmergencyContact\"] = \"emergency_contact\";\n})(StepCode || (StepCode = {}));\n\nvar defaultOptions = {\n  loop: true,\n  autoplay: true,\n  animationData: require('lottie/verifying.json')\n};\n\nvar InfoList = function InfoList(_ref) {\n  var stepList = _ref.stepList,\n      creditTips = _ref.creditTips,\n      submitText = _ref.submitText,\n      submitStatus = _ref.submitStatus,\n      agreementInfo = _ref.agreementInfo;\n  var showModalInstance = null;\n\n  function ShowTipsModel() {\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n\n    function close() {\n      ReactDOM.unmountComponentAtNode(div);\n\n      if (div && div.parentNode) {\n        div.parentNode.removeChild(div);\n      }\n    }\n\n    ReactDOM.render(React.createElement(\"div\", {\n      className: styles.TipsModel,\n      onClick: close\n    }, React.createElement(Lottie, {\n      options: defaultOptions,\n      width: 36,\n      height: 36\n    }), React.createElement(\"p\", null, \"\\u8D44\\u6599\\u8BA4\\u8BC1\\u4E2D\\uFF0C\\u8BF7\\u8010\\u5FC3\\u7B49\\u5F85\")), div);\n    return close;\n  }\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAgree = _useState2[0],\n      setIsAgree = _useState2[1];\n\n  var handleLink = function handleLink(item) {\n    if (item.get('step_status') === 1) {\n      return;\n    }\n\n    if (item.get('setp_code') === StepCode.GpsLocation) {\n      console.log('gps_location');\n    } else {\n      window.location.href = item.get('step_url');\n    }\n  };\n\n  var handleRemove = function handleRemove() {\n    showModalInstance.close();\n  };\n\n  var handleSubmit = function handleSubmit() {\n    if (!isAgree) {\n      _Toast.info(\"\\u8BF7\\u540C\\u610F\".concat(agreementInfo.agreementName));\n    }\n\n    showModalInstance = ShowTipsModel();\n  };\n\n  return React.createElement(\"div\", {\n    className: styles.infoList\n  }, React.createElement(\"p\", {\n    onClick: handleRemove\n  }, \"2323232\"), React.createElement(\"p\", {\n    className: styles.creditTips\n  }, creditTips), React.createElement(\"div\", {\n    className: styles.list\n  }, stepList.map(function (item, key) {\n    return React.createElement(_Flex, {\n      key: key,\n      className: styles.item,\n      onClick: function onClick() {\n        return handleLink(item);\n      }\n    }, React.createElement(Item, {\n      className: styles.left\n    }, React.createElement(\"img\", {\n      src: item.get('step_icon'),\n      alt: \"\"\n    }), item.get('step_title')), item.get('step_status') === 1 && React.createElement(Icon, {\n      size: \"xxs\",\n      color: \"#00AA99\",\n      type: require('svg/xuan.svg')\n    }), React.createElement(\"span\", {\n      className: item.get('step_status') === 0 ? styles.stepUnDid : styles.stepDid\n    }, item.get('step_info')), item.get('step_status') === 0 && React.createElement(Icon, {\n      size: \"xxs\",\n      color: \"#CCCCCC\",\n      type: require('svg/youjiantouxin.svg')\n    }));\n  })), React.createElement(_Flex, {\n    className: styles.agree\n  }, React.createElement(Switch, {\n    className: styles.agreeText,\n    checked: isAgree,\n    onChange: function onChange() {\n      return setIsAgree(!isAgree);\n    }\n  }, agreementInfo.agreementMsg), React.createElement(Link, {\n    native: true,\n    to: agreementInfo.agreementUrl,\n    className: styles.agreement_name\n  }, agreementInfo.agreementName)), React.createElement(Button, {\n    type: \"primary\",\n    disabled: submitStatus === 1,\n    className: styles.submitText,\n    onClick: handleSubmit\n  }, submitText));\n};\n\nexport default InfoList;","map":{"version":3,"sources":["/Users/viser/mobile-next/src/containers/MyTrade/Assess/List/InfoList.tsx"],"names":["Button","Icon","Link","Switch","React","useState","styles","ReactDOM","Lottie","Item","StepCode","defaultOptions","loop","autoplay","animationData","require","InfoList","stepList","creditTips","submitText","submitStatus","agreementInfo","showModalInstance","ShowTipsModel","div","document","createElement","body","appendChild","close","unmountComponentAtNode","parentNode","removeChild","render","TipsModel","isAgree","setIsAgree","handleLink","item","get","GpsLocation","console","log","window","location","href","handleRemove","handleSubmit","info","agreementName","infoList","list","map","key","left","stepUnDid","stepDid","agree","agreeText","agreementMsg","agreementUrl","agreement_name"],"mappings":"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","sourcesContent":["import { Flex, Toast } from 'antd-mobile'\nimport { Button, Icon, Link, Switch } from 'components'\nimport React, { useState } from 'react'\nimport styles from './InfoList.less'\nimport ReactDOM from 'react-dom';\nimport Lottie from 'react-lottie';\n\nconst Item = Flex.Item\n\nexport interface InfoListProps {\n  creditTips: string\n  submitText: string\n  submitStatus: number\n  agreementInfo: any\n  stepList: any\n}\n\nenum StepCode {\n  ZhimaCredit = 'zhima_credit',\n  GpsLocation = 'gps_location',\n  EmergencyContact = 'emergency_contact',\n}\n\nconst defaultOptions = {\n  loop: true,\n  autoplay: true,\n  animationData: require('lottie/verifying.json'),\n}\n\nconst InfoList: React.FunctionComponent<InfoListProps> = ({\n  stepList,\n  creditTips,\n  submitText,\n  submitStatus,\n  agreementInfo,\n}) => {\n  let showModalInstance: any = null\n  function ShowTipsModel(): Function {\n    const div: any = document.createElement('div')\n    document.body.appendChild(div)\n  \n    function close() {\n      ReactDOM.unmountComponentAtNode(div)\n      if (div && div.parentNode) {\n        div.parentNode.removeChild(div)\n      }\n    }\n  \n    ReactDOM.render(\n      <div className={styles.TipsModel} onClick={close}>\n        <Lottie options={defaultOptions} width={36} height={36} />\n        <p>资料认证中，请耐心等待</p>\n      </div>,\n      div,\n    )\n  \n    return close\n  }\n  const [isAgree, setIsAgree] = useState(true)\n\n  const handleLink = (item: any) => {\n    if (item.get('step_status') === 1) {\n      return\n    }\n    if (item.get('setp_code') === StepCode.GpsLocation) {\n      console.log('gps_location')\n    } else {\n      window.location.href = item.get('step_url')\n    }\n  }\n\n  const handleRemove = () => {\n    showModalInstance.close()\n  }\n\n  const handleSubmit = () => {\n    if (!isAgree) {\n      Toast.info(`请同意${agreementInfo.agreementName}`)\n    }\n    showModalInstance = ShowTipsModel()\n  }\n\n  return (\n    <div className={styles.infoList}>\n        <p onClick={handleRemove} >2323232</p>\n      <p className={styles.creditTips}>{creditTips}</p>\n      <div className={styles.list}>\n        {stepList.map((item: any, key: any) => (\n          <Flex key={key} className={styles.item} onClick={() => handleLink(item)}>\n            <Item className={styles.left}>\n              <img src={item.get('step_icon')} alt=\"\" />\n              {item.get('step_title')}\n            </Item>\n            {item.get('step_status') === 1 && <Icon size=\"xxs\" color=\"#00AA99\" type={require('svg/xuan.svg')} />}\n            <span className={item.get('step_status') === 0 ? styles.stepUnDid : styles.stepDid}>\n              {item.get('step_info')}\n            </span>\n            {item.get('step_status') === 0 && (\n              <Icon size=\"xxs\" color=\"#CCCCCC\" type={require('svg/youjiantouxin.svg')} />\n            )}\n          </Flex>\n        ))}\n      </div>\n      <Flex className={styles.agree}>\n        <Switch className={styles.agreeText} checked={isAgree} onChange={() => setIsAgree(!isAgree)}>\n          {agreementInfo.agreementMsg}\n        </Switch>\n        <Link native={true} to={agreementInfo.agreementUrl} className={styles.agreement_name}>\n          {agreementInfo.agreementName}\n        </Link>\n      </Flex>\n      <Button type=\"primary\" disabled={submitStatus === 1} className={styles.submitText} onClick={handleSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  )\n}\n\nexport default InfoList\n"]},"metadata":{},"sourceType":"module"}