{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\n\nvar _handleActions;\n\nimport { GET_NAV_ICONS, HIDDEN_TABBAR, INIT_TABBAR, RAS_PRIVATE_KEY, TOGGLE_TABBAR } from 'constant/index';\nimport { fromJS } from 'immutable';\nimport { handleActions } from 'redux-actions';\nvar initialApp = {\n  tabBar: {\n    selectedTab: '',\n    show: false\n  },\n  signature: {},\n  navIcons: {\n    is_festival: 0,\n    icons: []\n  }\n};\nvar app = handleActions((_handleActions = {}, _defineProperty(_handleActions, INIT_TABBAR, function (state, _ref) {\n  var payload = _ref.payload;\n  var selectedTab = payload.selectedTab,\n      show = payload.show;\n  return state.setIn(['tabBar', 'selectedTab'], selectedTab).setIn(['tabBar', 'show'], show);\n}), _defineProperty(_handleActions, TOGGLE_TABBAR, function (state) {\n  var show = state.getIn(['tabBar', 'show']);\n  return state.setIn(['tabBar', 'show'], !show);\n}), _defineProperty(_handleActions, HIDDEN_TABBAR, function (state) {\n  return state.setIn(['tabBar', 'show'], false);\n}), _defineProperty(_handleActions, RAS_PRIVATE_KEY, function (state, _ref2) {\n  var payload = _ref2.payload;\n  var key = payload.key,\n      timespan = payload.timespan,\n      token = payload.token;\n  return state.setIn(['signature', key], fromJS({\n    timespan: timespan,\n    token: token\n  }));\n}), _defineProperty(_handleActions, GET_NAV_ICONS, function (state, _ref3) {\n  var payload = _ref3.payload;\n  var dicKey = {\n    0: 'home',\n    1: 'product',\n    2: 'myCenter'\n  };\n  var is_festival = payload.is_festival,\n      icons = payload.icons;\n  var list = (icons || []).map(function (item, index) {\n    return _objectSpread({}, item, {\n      key: dicKey[index]\n    });\n  });\n  return state.set('navIcons', fromJS({\n    is_festival: is_festival,\n    icons: list\n  }));\n}), _handleActions), fromJS(initialApp));\nexport default app;","map":{"version":3,"sources":["/Users/viser/mobile-next/src/reducers/app.ts"],"names":["GET_NAV_ICONS","HIDDEN_TABBAR","INIT_TABBAR","RAS_PRIVATE_KEY","TOGGLE_TABBAR","fromJS","handleActions","initialApp","tabBar","selectedTab","show","signature","navIcons","is_festival","icons","app","state","payload","setIn","getIn","key","timespan","token","dicKey","list","map","item","index","set"],"mappings":";;;;;AACA,SAASA,aAAT,EAAwBC,aAAxB,EAAuCC,WAAvC,EAAoDC,eAApD,EAAqEC,aAArE,QAA0F,gBAA1F;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEA,SAASC,aAAT,QAA8B,eAA9B;AAQA,IAAMC,UAA2B,GAAG;AAClCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,WAAW,EAAE,EADP;AAENC,IAAAA,IAAI,EAAE;AAFA,GAD0B;AAKlCC,EAAAA,SAAS,EAAE,EALuB;AAMlCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,WAAW,EAAE,CADL;AAERC,IAAAA,KAAK,EAAE;AAFC;AANwB,CAApC;AAYA,IAAMC,GAAG,GAAGT,aAAa,uDAEpBJ,WAFoB,YAEPc,KAFO,QAEa;AAAA,MAAXC,OAAW,QAAXA,OAAW;AAAA,MACxBR,WADwB,GACiBQ,OADjB,CACxBR,WADwB;AAAA,MACXC,IADW,GACiBO,OADjB,CACXP,IADW;AAEhC,SAAOM,KAAK,CAACE,KAAN,CAAY,CAAC,QAAD,EAAW,aAAX,CAAZ,EAAuCT,WAAvC,EAAoDS,KAApD,CAA0D,CAAC,QAAD,EAAW,MAAX,CAA1D,EAA8ER,IAA9E,CAAP;AACD,CALoB,mCAMpBN,aANoB,YAMLY,KANK,EAME;AACrB,MAAMN,IAAI,GAAGM,KAAK,CAACG,KAAN,CAAY,CAAC,QAAD,EAAW,MAAX,CAAZ,CAAb;AACA,SAAOH,KAAK,CAACE,KAAN,CAAY,CAAC,QAAD,EAAW,MAAX,CAAZ,EAAgC,CAACR,IAAjC,CAAP;AACD,CAToB,mCAUpBT,aAVoB,YAULe,KAVK,EAUE;AACrB,SAAOA,KAAK,CAACE,KAAN,CAAY,CAAC,QAAD,EAAW,MAAX,CAAZ,EAAgC,KAAhC,CAAP;AACD,CAZoB,mCAapBf,eAboB,YAaHa,KAbG,SAaiB;AAAA,MAAXC,OAAW,SAAXA,OAAW;AAAA,MAC5BG,GAD4B,GACHH,OADG,CAC5BG,GAD4B;AAAA,MACvBC,QADuB,GACHJ,OADG,CACvBI,QADuB;AAAA,MACbC,KADa,GACHL,OADG,CACbK,KADa;AAEpC,SAAON,KAAK,CAACE,KAAN,CAAY,CAAC,WAAD,EAAcE,GAAd,CAAZ,EAAgCf,MAAM,CAAC;AAAEgB,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,KAAK,EAALA;AAAZ,GAAD,CAAtC,CAAP;AACD,CAhBoB,mCAiBpBtB,aAjBoB,YAiBLgB,KAjBK,SAiBe;AAAA,MAAXC,OAAW,SAAXA,OAAW;AAClC,MAAMM,MAAW,GAAG;AAClB,OAAG,MADe;AAElB,OAAG,SAFe;AAGlB,OAAG;AAHe,GAApB;AADkC,MAM1BV,WAN0B,GAMcI,OANd,CAM1BJ,WAN0B;AAAA,MAMbC,KANa,GAMcG,OANd,CAMbH,KANa;AAOlC,MAAMU,IAAI,GAAG,CAACV,KAAK,IAAI,EAAV,EAAcW,GAAd,CAAkB,UAACC,IAAD,EAAiBC,KAAjB;AAAA,6BAC1BD,IAD0B;AAE7BN,MAAAA,GAAG,EAAEG,MAAM,CAACI,KAAD;AAFkB;AAAA,GAAlB,CAAb;AAIA,SAAOX,KAAK,CAACY,GAAN,CAAU,UAAV,EAAsBvB,MAAM,CAAC;AAAEQ,IAAAA,WAAW,EAAXA,WAAF;AAAeC,IAAAA,KAAK,EAAEU;AAAtB,GAAD,CAA5B,CAAP;AACD,CA7BoB,oBA+BvBnB,MAAM,CAACE,UAAD,CA/BiB,CAAzB;AAkCA,eAAeQ,GAAf","sourcesContent":["import { InitTabBarPayload } from 'actions/app'\nimport { GET_NAV_ICONS, HIDDEN_TABBAR, INIT_TABBAR, RAS_PRIVATE_KEY, TOGGLE_TABBAR } from 'constant/index'\nimport { fromJS } from 'immutable'\nimport { NavIcons, NavIconsReturns } from 'interfaces/common/navIcons'\nimport { handleActions } from 'redux-actions'\n\ninterface ProductWithList {\n  tabBar: InitTabBarPayload\n  signature: object\n  navIcons: Partial<NavIconsReturns>\n}\n\nconst initialApp: ProductWithList = {\n  tabBar: {\n    selectedTab: '',\n    show: false,\n  },\n  signature: {},\n  navIcons: {\n    is_festival: 0,\n    icons: [],\n  },\n}\n\nconst app = handleActions(\n  {\n    [INIT_TABBAR](state, { payload }) {\n      const { selectedTab, show }: InitTabBarPayload = payload\n      return state.setIn(['tabBar', 'selectedTab'], selectedTab).setIn(['tabBar', 'show'], show)\n    },\n    [TOGGLE_TABBAR](state) {\n      const show = state.getIn(['tabBar', 'show'])\n      return state.setIn(['tabBar', 'show'], !show)\n    },\n    [HIDDEN_TABBAR](state) {\n      return state.setIn(['tabBar', 'show'], false)\n    },\n    [RAS_PRIVATE_KEY](state, { payload }) {\n      const { key, timespan, token } = payload\n      return state.setIn(['signature', key], fromJS({ timespan, token }))\n    },\n    [GET_NAV_ICONS](state, { payload }) {\n      const dicKey: any = {\n        0: 'home',\n        1: 'product',\n        2: 'myCenter',\n      }\n      const { is_festival, icons }: NavIconsReturns = payload\n      const list = (icons || []).map((item: NavIcons, index: number) => ({\n        ...item,\n        key: dicKey[index],\n      }))\n      return state.set('navIcons', fromJS({ is_festival, icons: list }))\n    },\n  },\n  fromJS(initialApp),\n)\n\nexport default app\n"]},"metadata":{},"sourceType":"module"}