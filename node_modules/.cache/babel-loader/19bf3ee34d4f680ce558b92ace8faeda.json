{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport classnames from 'classnames';\nimport { Container, Header, Icon, TabBar } from 'components';\nimport { AssetImage } from 'constant/uikit';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport styles from \"./Error.less\";\nvar statusDic = {\n  404: '页面未找到',\n  500: '出错啦'\n};\n\nvar Error =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Error, _React$Component);\n\n  function Error() {\n    _classCallCheck(this, Error);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Error).apply(this, arguments));\n  }\n\n  _createClass(Error, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          statusCode = _this$props.statusCode,\n          errorMsg = _this$props.errorMsg,\n          isQsy = _this$props.isQsy; // tslint:disable-next-line\n      // if (statusCode === null) {\n      //   return null\n      // }\n\n      var headerProps = {\n        hidden: isQsy,\n        icon: React.createElement(\"a\", {\n          href: \"tel:400-670-0188\"\n        }, React.createElement(Icon, {\n          className: styles.phone,\n          type: require('svg/phone.svg')\n        })),\n        rightContent: React.createElement(\"a\", {\n          className: styles.help_btn,\n          href: \"/help\"\n        }, \"\\u5E2E\\u52A9\")\n      };\n      var containerProps = {\n        renderHeader: React.createElement(Header, headerProps, statusDic[statusCode] || \"\\u51FA\\u9519\\u5566\"),\n        renderTabBar: React.createElement(TabBar, {\n          hidden: true\n        })\n      };\n      return React.createElement(Container, containerProps, React.createElement(\"div\", {\n        className: styles.box\n      }, React.createElement(\"img\", {\n        className: styles.icon,\n        src: AssetImage.Common.ErrorBG,\n        alt: \"404 not found\"\n      }), statusCode === 404 && React.createElement(\"p\", null, \"\\u62B1\\u6B49\\u54E6~\\u60A8\\u8BBF\\u95EE\\u7684\\u9875\\u9762\\u5DF2\\u7ECF\\u9003\\u79BB\\u5730\\u7403\\u8868\\u9762\"), statusCode !== 404 && React.createElement(\"p\", {\n        className: styles.msg\n      }, errorMsg || '服务器报错了'), React.createElement(\"div\", {\n        className: styles.btn_box,\n        \"data-status\": statusCode\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        className: classnames(styles.btn, isQsy && styles.btn_blue)\n      }, \"\\u8FD4\\u56DE\\u9996\\u9875\"), React.createElement(\"a\", {\n        className: classnames(styles.btn, isQsy && styles.btn_blue),\n        onClick: Error.handleClick\n      }, \"\\u91CD\\u65B0\\u52A0\\u8F7D\"))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var res = _ref.res,\n          err = _ref.err;\n      var statusCode = res && res.statusCode || err && err.statusCode || null;\n      return {\n        statusCode: statusCode,\n        errorMsg: res && res.errorMsg || err && err.errorMsg || ''\n      };\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      window.location.reload();\n    }\n  }]);\n\n  return Error;\n}(React.Component);\n\nvar mapState = function mapState(state) {\n  return {\n    isQsy: state.getIn(['serverApp', 'utm', 'isQsy'])\n  };\n};\n\nexport default connect(mapState)(Error);","map":{"version":3,"sources":["/Users/viser/mobile-next/src/containers/Error/index.tsx"],"names":["classnames","Container","Header","Icon","TabBar","AssetImage","React","connect","styles","statusDic","Error","props","statusCode","errorMsg","isQsy","headerProps","hidden","icon","phone","require","rightContent","help_btn","containerProps","renderHeader","renderTabBar","box","Common","ErrorBG","msg","btn_box","btn","btn_blue","handleClick","res","err","window","location","reload","Component","mapState","state","getIn"],"mappings":"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","sourcesContent":["import classnames from 'classnames'\nimport { Container, Header, Icon, TabBar } from 'components'\nimport { AssetImage } from 'constant/uikit'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport styles from './Error.less'\n\nconst statusDic: { [index: number]: string } = {\n  404: '页面未找到',\n  500: '出错啦',\n}\n\ninterface ErrorProps {\n  statusCode: number\n  errorMsg?: string\n}\n\ninterface InjectedProps {\n  isQsy: boolean\n}\n\nclass Error extends React.Component<ErrorProps & InjectedProps> {\n  static getInitialProps({ res, err }: any) {\n    const statusCode = (res && res.statusCode) || (err && err.statusCode) || null\n    return { statusCode, errorMsg: (res && res.errorMsg) || (err && err.errorMsg) || '' }\n  }\n\n  static handleClick() {\n    window.location.reload()\n  }\n\n  render() {\n    const { statusCode, errorMsg, isQsy } = this.props\n\n    // tslint:disable-next-line\n    // if (statusCode === null) {\n    //   return null\n    // }\n\n    const headerProps = {\n      hidden: isQsy,\n      icon: (\n        <a href=\"tel:400-670-0188\">\n          <Icon className={styles.phone} type={require('svg/phone.svg')} />\n        </a>\n      ),\n      rightContent: (\n        <a className={styles.help_btn} href=\"/help\">\n          帮助\n        </a>\n      ),\n    }\n\n    const containerProps = {\n      renderHeader: <Header {...headerProps}>{statusDic[statusCode] || `出错啦`}</Header>,\n      renderTabBar: <TabBar hidden={true} />,\n    }\n\n    return (\n      <Container {...containerProps}>\n        <div className={styles.box}>\n          <img className={styles.icon} src={AssetImage.Common.ErrorBG} alt=\"404 not found\" />\n          {statusCode === 404 && <p>抱歉哦~您访问的页面已经逃离地球表面</p>}\n          {statusCode !== 404 && <p className={styles.msg}>{errorMsg || '服务器报错了'}</p>}\n          <div className={styles.btn_box} data-status={statusCode}>\n            <a href=\"/\" className={classnames(styles.btn, isQsy && styles.btn_blue)}>\n              返回首页\n            </a>\n            <a className={classnames(styles.btn, isQsy && styles.btn_blue)} onClick={Error.handleClick}>\n              重新加载\n            </a>\n          </div>\n        </div>\n      </Container>\n    )\n  }\n}\n\nconst mapState = (state: any) => ({\n  isQsy: state.getIn(['serverApp', 'utm', 'isQsy']),\n})\n\nexport default connect(mapState)(Error)\n"]},"metadata":{},"sourceType":"module"}