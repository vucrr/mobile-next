{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\n\nvar _handleActions;\n\nimport { CHECK_TRADE_DONE, GET_NAV_ICONS, HIDDEN_TABBAR, INIT_TABBAR, RAS_PRIVATE_KEY, TOGGLE_TABBAR } from 'constant/index';\nimport { fromJS } from 'immutable';\nimport { handleActions } from 'redux-actions';\nvar initialApp = {\n  tabBar: {\n    selectedTab: '',\n    show: false\n  },\n  signature: {},\n  navIcons: {\n    is_festival: 0,\n    icons: []\n  },\n  orderTips: {\n    is_have_undone_trade: false,\n    tips: ''\n  }\n};\nvar app = handleActions((_handleActions = {}, _defineProperty(_handleActions, INIT_TABBAR, function (state, _ref) {\n  var payload = _ref.payload;\n  var selectedTab = payload.selectedTab,\n      show = payload.show;\n  return state.setIn(['tabBar', 'selectedTab'], selectedTab).setIn(['tabBar', 'show'], show);\n}), _defineProperty(_handleActions, TOGGLE_TABBAR, function (state) {\n  var show = state.getIn(['tabBar', 'show']);\n  return state.setIn(['tabBar', 'show'], !show);\n}), _defineProperty(_handleActions, HIDDEN_TABBAR, function (state) {\n  return state.setIn(['tabBar', 'show'], false);\n}), _defineProperty(_handleActions, RAS_PRIVATE_KEY, function (state, _ref2) {\n  var payload = _ref2.payload;\n  var key = payload.key,\n      timespan = payload.timespan,\n      token = payload.token;\n  return state.setIn(['signature', key], fromJS({\n    timespan: timespan,\n    token: token\n  }));\n}), _defineProperty(_handleActions, GET_NAV_ICONS, function (state, _ref3) {\n  var payload = _ref3.payload;\n  var dicKey = {\n    0: 'home',\n    1: 'product',\n    2: 'myCenter'\n  };\n  var is_festival = payload.is_festival,\n      icons = payload.icons;\n  var list = (icons || []).map(function (item, index) {\n    return _objectSpread({}, item, {\n      key: dicKey[index]\n    });\n  });\n  return state.set('navIcons', fromJS({\n    is_festival: is_festival,\n    icons: list\n  }));\n}), _defineProperty(_handleActions, CHECK_TRADE_DONE, function (state, _ref4) {\n  var payload = _ref4.payload;\n  var is_have_undone_trade = payload.is_have_undone_trade,\n      tips = payload.tips;\n  return state.setIn(['orderTips', 'is_have_undone_trade'], is_have_undone_trade).setIn(['orderTips', 'tips'], tips);\n}), _handleActions), fromJS(initialApp));\nexport default app;","map":{"version":3,"sources":["/Users/viser/mobile-next/src/reducers/app.ts"],"names":["CHECK_TRADE_DONE","GET_NAV_ICONS","HIDDEN_TABBAR","INIT_TABBAR","RAS_PRIVATE_KEY","TOGGLE_TABBAR","fromJS","handleActions","initialApp","tabBar","selectedTab","show","signature","navIcons","is_festival","icons","orderTips","is_have_undone_trade","tips","app","state","payload","setIn","getIn","key","timespan","token","dicKey","list","map","item","index","set"],"mappings":"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","sourcesContent":["import { InitTabBarPayload } from 'actions/app'\nimport {\n  CHECK_TRADE_DONE,\n  GET_NAV_ICONS,\n  HIDDEN_TABBAR,\n  INIT_TABBAR,\n  RAS_PRIVATE_KEY,\n  TOGGLE_TABBAR,\n} from 'constant/index'\nimport { fromJS } from 'immutable'\nimport { NavIcons, NavIconsReturns } from 'interfaces/common'\nimport { handleActions } from 'redux-actions'\n\ninterface AppState {\n  tabBar: InitTabBarPayload\n  signature: object\n  navIcons: Partial<NavIconsReturns>\n  orderTips: {\n    is_have_undone_trade: boolean\n    tips: string\n  }\n}\n\nconst initialApp: AppState = {\n  tabBar: {\n    selectedTab: '',\n    show: false,\n  },\n  signature: {},\n  navIcons: {\n    is_festival: 0,\n    icons: [],\n  },\n  orderTips: {\n    is_have_undone_trade: false,\n    tips: '',\n  },\n}\n\nconst app = handleActions(\n  {\n    [INIT_TABBAR](state, { payload }) {\n      const { selectedTab, show }: InitTabBarPayload = payload\n      return state.setIn(['tabBar', 'selectedTab'], selectedTab).setIn(['tabBar', 'show'], show)\n    },\n    [TOGGLE_TABBAR](state) {\n      const show = state.getIn(['tabBar', 'show'])\n      return state.setIn(['tabBar', 'show'], !show)\n    },\n    [HIDDEN_TABBAR](state) {\n      return state.setIn(['tabBar', 'show'], false)\n    },\n    [RAS_PRIVATE_KEY](state, { payload }) {\n      const { key, timespan, token } = payload\n      return state.setIn(['signature', key], fromJS({ timespan, token }))\n    },\n    [GET_NAV_ICONS](state, { payload }) {\n      const dicKey: any = {\n        0: 'home',\n        1: 'product',\n        2: 'myCenter',\n      }\n      const { is_festival, icons }: NavIconsReturns = payload\n      const list = (icons || []).map((item: NavIcons, index: number) => ({\n        ...item,\n        key: dicKey[index],\n      }))\n      return state.set('navIcons', fromJS({ is_festival, icons: list }))\n    },\n    [CHECK_TRADE_DONE](state, { payload }) {\n      const { is_have_undone_trade, tips }: AppState['orderTips'] = payload\n      return state.setIn(['orderTips', 'is_have_undone_trade'], is_have_undone_trade).setIn(['orderTips', 'tips'], tips)\n    },\n  },\n  fromJS(initialApp),\n)\n\nexport default app\n"]},"metadata":{},"sourceType":"module"}