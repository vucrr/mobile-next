{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport { Link, withSource } from 'components';\nimport Router from 'next/router';\nimport React from 'react';\nimport styles from \"./Bottom.less\";\n\nvar Bottom =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Bottom, _React$Component);\n\n  function Bottom() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Bottom);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Bottom)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isShow: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleScroll\", function () {\n      var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\n\n      if (scrollTop > 480) {\n        _this.setState({\n          isShow: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var ua;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ua = _this.props.ua;\n\n              if (!ua.get('isApp')) {\n                _context.next = 5;\n                break;\n              }\n\n              location.href = '/redirectAPP/home';\n              _context.next = 7;\n              break;\n\n            case 5:\n              _context.next = 7;\n              return Router.push('/');\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    return _this;\n  }\n\n  _createClass(Bottom, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('scroll', this.handleScroll);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this.handleScroll);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isShow = this.state.isShow;\n      return React.createElement(\"div\", {\n        className: styles.bottom\n      }, React.createElement(\"p\", null, \"\\u672C\\u6D3B\\u52A8\\u6700\\u7EC8\\u89E3\\u91CA\\u6743\\u5F52\\u4EAB\\u6362\\u673A\\u6240\\u6709\"), React.createElement(\"p\", null, \"\\u82E5\\u6709\\u7591\\u95EE\\uFF0C\\u8BF7\\u8054\\u7CFB\\u5BA2\\u670D\\uFF1A\", React.createElement(\"a\", {\n        href: \"tel:4006700188\"\n      }, \"400-670-0188\")), React.createElement(\"div\", {\n        onClick: this.handleClick,\n        className: styles.gotop\n      }, \"\\u56DE\\u9996\\u9875>\"), isShow && React.createElement(\"div\", {\n        className: styles.btnBox\n      }, React.createElement(Link, {\n        className: styles.btn,\n        native: true,\n        to: '/product/category'\n      }, \"\\u67E5\\u770B\\u66F4\\u591A\\u6362\\u65B0\\u673A\\u578B\")));\n    }\n  }]);\n\n  return Bottom;\n}(React.Component);\n\nexport default withSource(Bottom);","map":{"version":3,"sources":["/Users/viser/mobile-next/src/containers/Activitys/GuideOldUser/Bottom.tsx"],"names":["Link","withSource","Router","React","styles","Bottom","isShow","scrollTop","document","body","documentElement","setState","ua","props","get","location","href","push","window","addEventListener","handleScroll","removeEventListener","state","bottom","handleClick","gotop","btnBox","btn","Component"],"mappings":";;;;;;;;;AAAA,SAASA,IAAT,EAAeC,UAAf,QAAiC,YAAjC;AAEA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP;;IAQMC,M;;;;;;;;;;;;;;;;;;4DACoC;AACtCC,MAAAA,MAAM,EAAE;AAD8B,K;;mEAWzB,YAAM;AACnB,UAAMC,SAAS,GAAGC,QAAQ,CAACC,IAAT,CAAcF,SAAd,IAA2BC,QAAQ,CAACE,eAAT,CAAyBH,SAAtE;;AACA,UAAIA,SAAS,GAAG,GAAhB,EAAqB;AACnB,cAAKI,QAAL,CAAc;AAAEL,UAAAA,MAAM,EAAE;AAAV,SAAd;AACD;AACF,K;;;;;;6BAEa;AAAA;AAAA;AAAA;AAAA;AAAA;AACJM,cAAAA,EADI,GACG,MAAKC,KADR,CACJD,EADI;;AAAA,mBAERA,EAAE,CAACE,GAAH,CAAO,OAAP,CAFQ;AAAA;AAAA;AAAA;;AAGVC,cAAAA,QAAQ,CAACC,IAAT,GAAgB,mBAAhB;AAHU;AAAA;;AAAA;AAAA;AAAA,qBAKJd,MAAM,CAACe,IAAP,CAAY,GAAZ,CALI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;wCAfM;AAClBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,YAAvC;AACD;;;2CAEsB;AACrBF,MAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqC,KAAKD,YAA1C;AACD;;;6BAkBQ;AAAA,UACCd,MADD,GACY,KAAKgB,KADjB,CACChB,MADD;AAEP,aACE;AAAK,QAAA,SAAS,EAAEF,MAAM,CAACmB;AAAvB,SACE,sHADF,EAEE,qGACa;AAAG,QAAA,IAAI,EAAC;AAAR,wBADb,CAFF,EAKE;AAAK,QAAA,OAAO,EAAE,KAAKC,WAAnB;AAAgC,QAAA,SAAS,EAAEpB,MAAM,CAACqB;AAAlD,+BALF,EAQGnB,MAAM,IACL;AAAK,QAAA,SAAS,EAAEF,MAAM,CAACsB;AAAvB,SACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAEtB,MAAM,CAACuB,GAAxB;AAA6B,QAAA,MAAM,EAAE,IAArC;AAA2C,QAAA,EAAE,EAAE;AAA/C,4DADF,CATJ,CADF;AAkBD;;;;EAhDkBxB,KAAK,CAACyB,S;;AAmD3B,eAAe3B,UAAU,CAACI,MAAD,CAAzB","sourcesContent":["import { Link, withSource } from 'components'\nimport { SourceProps } from 'components/withSource'\nimport Router from 'next/router'\nimport React from 'react'\nimport styles from './Bottom.less'\n\nexport interface BottomProps {}\n\nexport interface BottomState {\n  isShow: boolean\n}\n\nclass Bottom extends React.Component<BottomProps & SourceProps, BottomState> {\n  readonly state: Readonly<BottomState> = {\n    isShow: false,\n  }\n  componentDidMount() {\n    window.addEventListener('scroll', this.handleScroll)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll)\n  }\n\n  handleScroll = () => {\n    const scrollTop = document.body.scrollTop || document.documentElement.scrollTop\n    if (scrollTop > 480) {\n      this.setState({ isShow: true })\n    }\n  }\n\n  handleClick = async () => {\n    const { ua } = this.props\n    if (ua.get('isApp')) {\n      location.href = '/redirectAPP/home'\n    } else {\n      await Router.push('/')\n    }\n  }\n\n  render() {\n    const { isShow } = this.state\n    return (\n      <div className={styles.bottom}>\n        <p>本活动最终解释权归享换机所有</p>\n        <p>\n          若有疑问，请联系客服：<a href=\"tel:4006700188\">400-670-0188</a>\n        </p>\n        <div onClick={this.handleClick} className={styles.gotop}>\n          回首页>\n        </div>\n        {isShow && (\n          <div className={styles.btnBox}>\n            <Link className={styles.btn} native={true} to={'/product/category'}>\n              查看更多换新机型\n            </Link>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default withSource(Bottom)\n"]},"metadata":{},"sourceType":"module"}