{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport classnames from 'classnames';\nimport React from 'react';\nimport styles from \"./Switch.less\";\n\nvar Switch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Switch, _React$Component);\n\n  function Switch() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Switch);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Switch)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      checked: _this.props.checked\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function () {\n      if (!_this.props.editable) return;\n\n      _this.setState({\n        checked: !_this.state.checked\n      }, function () {\n        var onChange = _this.props.onChange;\n\n        if (onChange) {\n          onChange(_this.state.checked);\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Switch, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if ('checked' in nextProps) {\n        this.setState({\n          checked: nextProps.checked\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          className = _this$props.className,\n          hideCheckBox = _this$props.hideCheckBox;\n      var cx = classnames(styles.switch, className, hideCheckBox && styles.hiddenBox);\n      var cx2 = classnames(styles.box, this.state.checked && styles.checked, this.props.round && styles.round);\n      return React.createElement(\"div\", {\n        className: cx,\n        onClick: this.handleClick\n      }, !hideCheckBox && React.createElement(\"div\", {\n        className: cx2\n      }), React.createElement(\"div\", {\n        className: styles.text\n      }, children));\n    }\n  }]);\n\n  return Switch;\n}(React.Component);\n\n_defineProperty(Switch, \"defaultProps\", {\n  editable: true,\n  hideCheckBox: false\n});\n\nexport default Switch;","map":{"version":3,"sources":["/Users/viser/mobile-next/src/components/Switch/Switch.tsx"],"names":["classnames","React","styles","Switch","checked","props","editable","setState","state","onChange","nextProps","children","className","hideCheckBox","cx","switch","hiddenBox","cx2","box","round","handleClick","text","Component"],"mappings":";;;;;;;AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP;;IAgBMC,M;;;;;;;;;;;;;;;;;;4DAMa;AACfC,MAAAA,OAAO,EAAE,MAAKC,KAAL,CAAWD;AADL,K;;kEAIH,YAAM;AAClB,UAAI,CAAC,MAAKC,KAAL,CAAWC,QAAhB,EAA0B;;AAC1B,YAAKC,QAAL,CACE;AACEH,QAAAA,OAAO,EAAE,CAAC,MAAKI,KAAL,CAAWJ;AADvB,OADF,EAIE,YAAM;AACJ,YAAMK,QAAQ,GAAG,MAAKJ,KAAL,CAAWI,QAA5B;;AACA,YAAIA,QAAJ,EAAc;AACZA,UAAAA,QAAQ,CAAC,MAAKD,KAAL,CAAWJ,OAAZ,CAAR;AACD;AACF,OATH;AAWD,K;;;;;;;8CAEyBM,S,EAAwB;AAChD,UAAI,aAAaA,SAAjB,EAA4B;AAC1B,aAAKH,QAAL,CAAc;AACZH,UAAAA,OAAO,EAAEM,SAAS,CAACN;AADP,SAAd;AAGD;AACF;;;6BAEQ;AAAA,wBACuC,KAAKC,KAD5C;AAAA,UACCM,QADD,eACCA,QADD;AAAA,UACWC,SADX,eACWA,SADX;AAAA,UACsBC,YADtB,eACsBA,YADtB;AAEP,UAAMC,EAAE,GAAGd,UAAU,CAACE,MAAM,CAACa,MAAR,EAAgBH,SAAhB,EAA2BC,YAAY,IAAIX,MAAM,CAACc,SAAlD,CAArB;AACA,UAAMC,GAAG,GAAGjB,UAAU,CAACE,MAAM,CAACgB,GAAR,EAAa,KAAKV,KAAL,CAAWJ,OAAX,IAAsBF,MAAM,CAACE,OAA1C,EAAmD,KAAKC,KAAL,CAAWc,KAAX,IAAoBjB,MAAM,CAACiB,KAA9E,CAAtB;AACA,aACE;AAAK,QAAA,SAAS,EAAEL,EAAhB;AAAoB,QAAA,OAAO,EAAE,KAAKM;AAAlC,SACG,CAACP,YAAD,IAAiB;AAAK,QAAA,SAAS,EAAEI;AAAhB,QADpB,EAEE;AAAK,QAAA,SAAS,EAAEf,MAAM,CAACmB;AAAvB,SAA8BV,QAA9B,CAFF,CADF;AAMD;;;;EA3CkBV,KAAK,CAACqB,S;;gBAArBnB,M,kBACkB;AACpBG,EAAAA,QAAQ,EAAE,IADU;AAEpBO,EAAAA,YAAY,EAAE;AAFM,C;;AA6CxB,eAAeV,MAAf","sourcesContent":["import classnames from 'classnames'\nimport React from 'react'\nimport styles from './Switch.less'\n\ninterface SwitchProps {\n  children: string | React.ReactChildren\n  onChange: Function\n  checked: boolean\n  className?: string\n  editable?: boolean\n  hideCheckBox?: boolean\n  round?: boolean\n}\n\ninterface SwitchState {\n  checked: boolean\n}\n\nclass Switch extends React.Component<SwitchProps, SwitchState> {\n  static defaultProps = {\n    editable: true,\n    hideCheckBox: false,\n  }\n\n  readonly state = {\n    checked: this.props.checked,\n  }\n\n  handleClick = () => {\n    if (!this.props.editable) return\n    this.setState(\n      {\n        checked: !this.state.checked,\n      },\n      () => {\n        const onChange = this.props.onChange\n        if (onChange) {\n          onChange(this.state.checked)\n        }\n      },\n    )\n  }\n\n  componentWillReceiveProps(nextProps: SwitchProps) {\n    if ('checked' in nextProps) {\n      this.setState({\n        checked: nextProps.checked,\n      })\n    }\n  }\n\n  render() {\n    const { children, className, hideCheckBox } = this.props\n    const cx = classnames(styles.switch, className, hideCheckBox && styles.hiddenBox)\n    const cx2 = classnames(styles.box, this.state.checked && styles.checked, this.props.round && styles.round)\n    return (\n      <div className={cx} onClick={this.handleClick}>\n        {!hideCheckBox && <div className={cx2} />}\n        <div className={styles.text}>{children}</div>\n      </div>\n    )\n  }\n}\n\nexport default Switch\n"]},"metadata":{},"sourceType":"module"}