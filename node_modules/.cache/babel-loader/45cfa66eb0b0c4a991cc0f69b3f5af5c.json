{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _handleActions;\n\nimport { FETCH_UNION_PAY_CHECK_BANK_LIST, FETCH_UNION_PAY_DETAIL, FETCH_UNION_PAY_INFO, FETCH_UNION_PAY_LIST, GO_TO_NEXT, SAVE_FORM_FILEDS, SAVE_SMS_FILEDS } from 'constant/index';\nimport { fromJS } from 'immutable';\nimport { handleActions } from 'redux-actions';\nvar initialUnionPayForm = {\n  list: [],\n  detail: {\n    realName: '',\n    idNo: ''\n  },\n  checkBankList: [],\n  form: {\n    realName: '',\n    idNo: '',\n    verifyCode: '',\n    isEdit: true,\n    hasSubmit: false // 是否提交成功\n\n  }\n};\nvar unionPayForm = handleActions((_handleActions = {}, _defineProperty(_handleActions, FETCH_UNION_PAY_LIST, function (state, _ref) {\n  var payload = _ref.payload;\n  var list = payload.list;\n  return state.set('list', fromJS(list));\n}), _defineProperty(_handleActions, FETCH_UNION_PAY_DETAIL, function (state, _ref2) {\n  var payload = _ref2.payload;\n  var detail = payload.detail;\n  return state.set('detail', fromJS(detail));\n}), _defineProperty(_handleActions, FETCH_UNION_PAY_CHECK_BANK_LIST, function (state, _ref3) {\n  var payload = _ref3.payload;\n  var bankList = payload.bankList;\n  return state.set('checkBankList', fromJS(bankList));\n}), _defineProperty(_handleActions, FETCH_UNION_PAY_INFO, function (state, _ref4) {\n  var payload = _ref4.payload;\n  var form = payload.form;\n  return state.setIn(['form', 'realName'], form.realName).setIn(['form', 'idNo'], form.idNo).setIn(['form', 'isEdit'], form.realName.length === 0);\n}), _defineProperty(_handleActions, GO_TO_NEXT, function (state, _ref5) {\n  var payload = _ref5.payload;\n  var form = payload.form;\n  return state.set('form', fromJS(form));\n}), _defineProperty(_handleActions, SAVE_FORM_FILEDS, function (state, _ref6) {\n  var payload = _ref6.payload;\n  var form = payload.form;\n  return state.setIn(['form', 'realName'], form.realName).setIn(['form', 'idNo'], form.idNo).setIn(['form', 'bankCardNo'], form.bankCardNo).setIn(['form', 'tel'], form.tel).setIn(['form', 'hasSubmit'], !!form.hasSubmit);\n}), _defineProperty(_handleActions, SAVE_SMS_FILEDS, function (state, _ref7) {\n  var payload = _ref7.payload;\n  return state.setIn(['form', 'verifyCode'], payload.verifyCode);\n}), _handleActions), fromJS(initialUnionPayForm));\nexport default unionPayForm;","map":{"version":3,"sources":["/Users/viser/mobile-next/src/reducers/account/unionPay/index.ts"],"names":["FETCH_UNION_PAY_CHECK_BANK_LIST","FETCH_UNION_PAY_DETAIL","FETCH_UNION_PAY_INFO","FETCH_UNION_PAY_LIST","GO_TO_NEXT","SAVE_FORM_FILEDS","SAVE_SMS_FILEDS","fromJS","handleActions","initialUnionPayForm","list","detail","realName","idNo","checkBankList","form","verifyCode","isEdit","hasSubmit","unionPayForm","state","payload","set","bankList","setIn","length","bankCardNo","tel"],"mappings":"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","sourcesContent":["import {\n  FETCH_UNION_PAY_CHECK_BANK_LIST,\n  FETCH_UNION_PAY_DETAIL,\n  FETCH_UNION_PAY_INFO,\n  FETCH_UNION_PAY_LIST,\n  GO_TO_NEXT,\n  SAVE_FORM_FILEDS,\n  SAVE_SMS_FILEDS,\n} from 'constant/index'\nimport { fromJS } from 'immutable'\nimport { UnionPayBankListReturn, UnionPayFormReturn, UnionPayListReturn } from 'interfaces/unionPay'\nimport { handleActions } from 'redux-actions'\n\ninterface UnionPay {\n  list: UnionPayListReturn\n  checkBankList: UnionPayBankListReturn\n  detail: UnionPayFormReturn\n  form: UnionPayFormReturn & {\n    verifyCode: string\n    isEdit: boolean\n    hasSubmit: boolean\n  }\n}\n\nconst initialUnionPayForm: UnionPay = {\n  list: [],\n  detail: {\n    realName: '',\n    idNo: '',\n  },\n  checkBankList: [],\n  form: {\n    realName: '',\n    idNo: '',\n    verifyCode: '',\n    isEdit: true,\n    hasSubmit: false, // 是否提交成功\n  },\n}\n\nconst unionPayForm = handleActions(\n  {\n    [FETCH_UNION_PAY_LIST](state, { payload }) {\n      const { list }: { list: UnionPayListReturn } = payload\n      return state.set('list', fromJS(list))\n    },\n    [FETCH_UNION_PAY_DETAIL](state, { payload }) {\n      const { detail }: { detail: UnionPayFormReturn } = payload\n      return state.set('detail', fromJS(detail))\n    },\n    [FETCH_UNION_PAY_CHECK_BANK_LIST](state, { payload }) {\n      const { bankList }: { bankList: UnionPayBankListReturn } = payload\n      return state.set('checkBankList', fromJS(bankList))\n    },\n    [FETCH_UNION_PAY_INFO](state, { payload }) {\n      const { form }: UnionPay = payload\n      return state\n        .setIn(['form', 'realName'], form.realName)\n        .setIn(['form', 'idNo'], form.idNo)\n        .setIn(['form', 'isEdit'], form.realName.length === 0)\n    },\n    [GO_TO_NEXT](state, { payload }) {\n      const { form }: UnionPay = payload\n      return state.set('form', fromJS(form))\n    },\n    [SAVE_FORM_FILEDS](state, { payload }) {\n      const { form }: { form: UnionPay['form'] } = payload\n      return state\n        .setIn(['form', 'realName'], form.realName)\n        .setIn(['form', 'idNo'], form.idNo)\n        .setIn(['form', 'bankCardNo'], form.bankCardNo)\n        .setIn(['form', 'tel'], form.tel)\n        .setIn(['form', 'hasSubmit'], !!form.hasSubmit)\n    },\n    [SAVE_SMS_FILEDS](state, { payload }) {\n      return state.setIn(['form', 'verifyCode'], payload.verifyCode)\n    },\n  },\n  fromJS(initialUnionPayForm),\n)\n\nexport default unionPayForm\n"]},"metadata":{},"sourceType":"module"}