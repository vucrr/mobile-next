{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport { FETCH_ACTIVITYS_GUIDE_OLD_USER } from 'constant/index';\nimport dayjs from 'dayjs';\nimport { fromJS } from 'immutable';\nimport { handleActions } from 'redux-actions';\nvar initialGuideOldUserData = {\n  showHour: true,\n  day: '00',\n  hour: '00',\n  showExpired: false,\n  product_name: ''\n};\nvar GuideOldUserDataReturn = handleActions(_defineProperty({}, FETCH_ACTIVITYS_GUIDE_OLD_USER, function (state, _ref) {\n  var payload = _ref.payload;\n  var dt_end_date = payload.dt_end_date,\n      product_name = payload.product_name;\n  var now = dayjs();\n  var leftDate = dayjs.unix(dt_end_date);\n  var day = leftDate.diff(now, 'day');\n  var hour = leftDate.diff(now, 'hour') - day * 24;\n  var dayData = day.toString().padStart(2, '0');\n  var hourData = hour.toString().padStart(2, '0');\n  return state.set('day', fromJS(_parseInt(dayData, 10) > 0 ? dayData : '00')).set('hour', fromJS(_parseInt(hourData, 10) > 0 ? hourData : '00')).set('showHour', fromJS(day < 7)).set('showExpired', fromJS(hour <= 0)).set('product_name', fromJS(product_name));\n}), fromJS(initialGuideOldUserData));\nexport default GuideOldUserDataReturn;","map":{"version":3,"sources":["/Users/viser/mobile-next/src/reducers/activitys/guideOldUser.ts"],"names":["FETCH_ACTIVITYS_GUIDE_OLD_USER","dayjs","fromJS","handleActions","initialGuideOldUserData","showHour","day","hour","showExpired","product_name","GuideOldUserDataReturn","state","payload","dt_end_date","now","leftDate","unix","diff","dayData","toString","padStart","hourData","set"],"mappings":";;AAAA,SAASA,8BAAT,QAA+C,gBAA/C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEA,SAASC,aAAT,QAA8B,eAA9B;AAEA,IAAMC,uBAAuB,GAAG;AAC9BC,EAAAA,QAAQ,EAAE,IADoB;AAE9BC,EAAAA,GAAG,EAAE,IAFyB;AAG9BC,EAAAA,IAAI,EAAE,IAHwB;AAI9BC,EAAAA,WAAW,EAAE,KAJiB;AAK9BC,EAAAA,YAAY,EAAE;AALgB,CAAhC;AAQA,IAAMC,sBAAsB,GAAGP,aAAa,qBAEvCH,8BAFuC,YAEPW,KAFO,QAEa;AAAA,MAAXC,OAAW,QAAXA,OAAW;AAAA,MAC3CC,WAD2C,GACKD,OADL,CAC3CC,WAD2C;AAAA,MAC9BJ,YAD8B,GACKG,OADL,CAC9BH,YAD8B;AAEnD,MAAMK,GAAG,GAAGb,KAAK,EAAjB;AACA,MAAMc,QAAQ,GAAGd,KAAK,CAACe,IAAN,CAAWH,WAAX,CAAjB;AACA,MAAMP,GAAG,GAAGS,QAAQ,CAACE,IAAT,CAAcH,GAAd,EAAmB,KAAnB,CAAZ;AACA,MAAMP,IAAI,GAAGQ,QAAQ,CAACE,IAAT,CAAcH,GAAd,EAAmB,MAAnB,IAA6BR,GAAG,GAAG,EAAhD;AACA,MAAMY,OAAO,GAAGZ,GAAG,CAACa,QAAJ,GAAeC,QAAf,CAAwB,CAAxB,EAA2B,GAA3B,CAAhB;AACA,MAAMC,QAAQ,GAAGd,IAAI,CAACY,QAAL,GAAgBC,QAAhB,CAAyB,CAAzB,EAA4B,GAA5B,CAAjB;AACA,SAAOT,KAAK,CACTW,GADI,CACA,KADA,EACOpB,MAAM,CAAC,UAASgB,OAAT,EAAkB,EAAlB,IAAwB,CAAxB,GAA4BA,OAA5B,GAAsC,IAAvC,CADb,EAEJI,GAFI,CAEA,MAFA,EAEQpB,MAAM,CAAC,UAASmB,QAAT,EAAmB,EAAnB,IAAyB,CAAzB,GAA6BA,QAA7B,GAAwC,IAAzC,CAFd,EAGJC,GAHI,CAGA,UAHA,EAGYpB,MAAM,CAACI,GAAG,GAAG,CAAP,CAHlB,EAIJgB,GAJI,CAIA,aAJA,EAIepB,MAAM,CAACK,IAAI,IAAI,CAAT,CAJrB,EAKJe,GALI,CAKA,cALA,EAKgBpB,MAAM,CAACO,YAAD,CALtB,CAAP;AAMD,CAhBuC,GAkB1CP,MAAM,CAACE,uBAAD,CAlBoC,CAA5C;AAqBA,eAAeM,sBAAf","sourcesContent":["import { FETCH_ACTIVITYS_GUIDE_OLD_USER } from 'constant/index'\nimport dayjs from 'dayjs'\nimport { fromJS } from 'immutable'\nimport { GuideOldUserData } from 'interfaces/activitys/guide-old-user'\nimport { handleActions } from 'redux-actions'\n\nconst initialGuideOldUserData = {\n  showHour: true,\n  day: '00',\n  hour: '00',\n  showExpired: false,\n  product_name: '',\n}\n\nconst GuideOldUserDataReturn = handleActions(\n  {\n    [FETCH_ACTIVITYS_GUIDE_OLD_USER](state, { payload }) {\n      const { dt_end_date, product_name }: GuideOldUserData = payload\n      const now = dayjs()\n      const leftDate = dayjs.unix(dt_end_date)\n      const day = leftDate.diff(now, 'day')\n      const hour = leftDate.diff(now, 'hour') - day * 24\n      const dayData = day.toString().padStart(2, '0')\n      const hourData = hour.toString().padStart(2, '0')\n      return state\n        .set('day', fromJS(parseInt(dayData, 10) > 0 ? dayData : '00'))\n        .set('hour', fromJS(parseInt(hourData, 10) > 0 ? hourData : '00'))\n        .set('showHour', fromJS(day < 7))\n        .set('showExpired', fromJS(hour <= 0))\n        .set('product_name', fromJS(product_name))\n    },\n  },\n  fromJS(initialGuideOldUserData),\n)\n\nexport default GuideOldUserDataReturn\n"]},"metadata":{},"sourceType":"module"}